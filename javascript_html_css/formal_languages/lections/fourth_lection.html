<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<link rel="stylesheet" type="text/css" href="css/css_for_lections.css">
<link rel="stylesheet" type="text/css" href="css/container.css">
<link rel="stylesheet" type="text/css" href="css/title_of_lection.css">
<link rel="stylesheet" type="text/css" href="css/ordered_list.css">
<link rel="stylesheet" type="text/css" href="css/subtitle_of_lection.css">
<link rel="stylesheet" type="text/css" href="css/proofs_examples_etc.css">
<link rel="stylesheet" type="text/css" href="css/design.css">

<div class="text">

    <div class="center_any_title">
        <h1 class="title_of_lecture">Источники и языки</h1>
    </div>

    <div class="container">
        <p>
           <br> Пусть зафиксирован некоторый алфавит A. Возьмем ориентированный псевдограф, некоторым ребрам которого приписаны буквы из алфавита A.
           <br> Ребра без букв назовем пустыми. Выделим некоторое множество вершин, называемых начальными и множество вершин, называемых заключительными.
           <br> Такая конструкция называется <i>источником</i>.
        </p>

        <p>
            <br> Начальные вершины обозначаются <sup>*</sup>, а заключительные - <sup>•</sup>.
            <br> Рассмотрим путь e<sub>1</sub>, ..., e<sub>k</sub> в источнике. Выпишем последовательно буквы, приписанные ребрам e<sub>1</sub>, ..., e<sub>k</sub>. 
            Получившееся слово назовем словом, порожденным данным путем. Если все ребра пути пустые, то такой путь порождает пустое слово.
        </p>

        <p>
            <br> Каждому источнику ставится в соответствие язык L ⊂ A<sub>*</sub> следующим образом. 
            Для каждого пути из некоторой начальной вершины в некоторую заключительную выписывается порожденное им слово.
            Все такие слова, и только они составляют язык L. Говорят, что источник <i>порождает</i> язык L.
        </p>
        
        <h4 class="proof_or_theorem">Пример.</h4>

        <div class="image">
            <img src="images/fourth_lection/vectorpaint.svg">
        </div>

        <p>
            <br> L = a<sup>2</sup>b<sup>*</sup> V abb<sup>*</sup> V b<sup>*</sup>
            <br> Чтобы проверить, что данный источник порождает именно этот язык, нужно рассмотреть все пути, ведущие из начальной вершины в заключительную.
        </p>

    </div>

    <div class="center_any_title">
        <h3 class="subtitle_of_lecture">Первая теорема Клини</h3>
    </div>
    
    
    <div class="container">
        <p>
            <br> <i>Каждый язык, порождаемый источником, является регулярным.</i>
        </p>

        <p>
            <br> Для доказательства будет полезна лемма об источниках.
        </p>

        <p>
            <br> Пусть вершины источника пронумерованы. И пусть R<sup>k</sup><sub>ij</sub> обозначает множество всех слов,
             порожденных путями в данном источнике из вершины с номером i в вершину с номером j,
             не проходящими вершину с номером больше k. Следующая лемма иллюстрирует "понижение степени" R<sup>k</sup><sub>ij</sub>
              и позволяет таким образом перейти к простейшим языкам R<sub>i</sub>0<sub>j</sub>.
        </p>

        <h4 class="proof_or_theorem">Лемма.</h4>

        <p>
            <br> Выполнены следующие равенства.
            <ol class="points">
                <li> R<sup>k</sup><sub>ij</sub> = R<sup>k-1</sup><sub>ij</sub> V R<sup>k-1</sup><sub>ik</sub>(R<sup>k-1</sup><sub>kk</sub>)<sup>*</sup>R<sup>k-</sup><sub>kj</sub></li>
                <li> R<sup>k</sup><sub>kj</sub> = (R<sup>k-1</sup><sub>kk</sub>)<sup>*</sup>R<sup>k-1</sup><sub>kj</sub></li>
                <li> R<sup>k</sup><sub>ik</sub> = R<sup>k-1</sup><sub>ik</sub>(R<sup>k-1</sup><sub>kk</sub>)<sup>*</sup></li>
                <li>R<sup>k</sup><sub>kk</sub> = (R<sup>k-1</sup><sub>kk</sub>)<sup>*</sup></li>
            </ol>
        </p>
        
        <h4 class="proof_or_theorem">Доказательство леммы.</h4><br>
        
        <p>
            <br> Докажем первое равенство. 
            Для этого рассмотрим множество путей, ведущих из вершины i в вершину j и не проходящих вершину с номером большим,
             чем k ( но саму вершину k проходить можно). 
        </p>

        <p>
            <br> Таким образом, все пути, слова на которых составляют R<sub>k</sub><sup>ij</sup>, могут либо вовсе не проходить вершину k,
             либо проходить ее некоторое количество раз. В первом случае слова на всех таких путях по определению составляют язык R<sup>k</sup><sub>ij</sub>-1.
        </p>

        <p>
            <br> Во втором случае каждый такой путь можно поделить на части: путь до вершины k, несколько путей, выходящих из k и возвращающихся в нее, и путь из k в j,
             причем во всех этих путях вершина k может встречаться только в начале и в конце. Таким образом, множество слов, порожденное этими путями,
              можно описать выражением R<sub>ik</sub><sup>k</sup>-1(R<sup>k</sup><sub>kk</sub>-1)*R<sup>k</sup><sub>kj</sub>-1. 
              Поэтому R<sup>k</sup>ij = R<sup>k</sup><sub>ij</sub>-1 V R<sub>ik</sub><sup>k</sup> - 1(R<sup>k</sup><sub>kk</sub> - 1) * R<sup>k</sup><sub>kj</sub> - 1. Первое равенство доказано.
        </p>
        
        <p>
            <br> Пункты 2 - 4 следуют из 1. Выведем пункт 2.
        </p>

        <p>
            <br> Пусть i = k. Тогда R<sup>k</sup><sub>kj</sub> = R<sup>k</sup><sub>kj</sub> - 1 V R<sup>k</sup><sub>kk</sub> - 1(R<sup>k</sup><sub>kk</sub> - 1) * R<sup>k</sup><sub>kj</sub> - 1 =
             (&lambda; V R<sup>k</sup><sub>kk</sub> -1(R<sup>k</sup><sub>kk</sub> - 1))* R<sup>k</sup><sub>kj</sub> - 1 = (R<sup>k</sup><sub>kk</sub> - 1) * R<sup>k</sup><sub>kj</sub> - 1.
            <br> Остальные пункты выводятся аналогично.
        </p>
        
        <h4 class="proof_or_theorem">Доказательство теоремы.</h4><br>

        <p>
            <br> Составим регулярное выражение для языка, порожденного произвольным источником.
        </p>

        <p>
            <br> Итак, рассмотрим источник И с n вершинами. Некоторым образом
            перенумеруем его вершины. Множество начальных вершин обозначим I,
            а множество заключительных ꂈ F.
        </p>
        
        <p>
            <br> Очевидно, что вырабатываемое им множество слов есть и, V i ∈ I, k ∈ F(R<sup>n</sup><sub>lk</sub>) ,это слова, порожденные путями от начальных вершин к заключительным, которые не проходят вершины с номерами, большими, чем количество вершин. Далее, для каждого R<sup>n</sup><sub>lk</sub> применяем лемму до тех пор, пока в ней не будут участвовать лишь R<sup>0</sup><sub>ij</sub>, то есть слова, соответствующие множествам путей из вершины i в вершину j, не заходящих ни в какую другую вершину. Можно выписать конкретные выражения для каждого R<sup>0</sup><sub>ij</sub> следующим образом.
        </p>

        <p>
            <br> R<sup>0</sup><sub>ij</sub> = ∅, если нет ребер, ведущих из вершины i в вершину j, причем i ꁘ= j.
            <br> R<sup>0</sup><sub>ij</sub> = a<sub>1</sub>1 V ... V a<sub>k</sub>, если из i в j ведут ребра с буквами a<sub>1</sub>, ..., a<sub>k</sub>. 
            Если от i к j ведет еще и пустое ребро, то в объединение добавляется пустое слово &lambda;.
        </p>
        
        <p>
            <br> R<sup>0</sup><sub>ij</sub> = &lambda;, если есть только пустое ребро. Множество Ri0i также всегда содержит пустое слово &lambda;.
            <br> Ясно, что языки R<sup>0</sup><sub>ij</sub> регулярны. Видно, что все языки R<sup>k</sup><sub>ij</sub> получаются из них с помощью операций объединения, конкатенации и итерации. 
            Следовательно, все языки R<sup>k</sup><sub>ij</sub> регулярны, поэтому регулярен и язык V i ∈ I, k ∈ F(R<sup>n</sup><sub>lk</sub>). Теорема доказана.
        </p>
        
        <p>Применяя лемму, можно также формализовать процесс определения языка, вырабатываемого источником.</p>

        <h4 class="proof_or_theorem">Пример.</h4>

        <div class="image">
            <img src="images/fourth_lection/FreeSample-Vectorizer-io-image_2024-04-10_21-50-59.svg">
        </div>

        <p>
            <br> Этот источник порождает язык L = R<sup>2</sup><sub>12</sub> = R<sup>1</sup><sub>12</sub>(R<sup>1</sup><sub>22</sub>)* = 
            (R<sup>0</sup><sub>11</sub>)<sup>*</sup>R<sup>0</sup><sub>12</sub>(R<sup>0</sup><sub>22</sub> U R<sup>0</sup><sub>21</sub>
            (R<sup>0</sup><sub>11</sub>)<sup>*</sup>R<sup>0</sup><sub>12</sub>)<sup>*</sup> = b<sup>*</sup>a(b V b<sup>*</sup>a)<sup>*</sup>.
        </p>

        <p>
            <br> Источник называется двухполюсником, если в нем ровно одна начальная вершина и ровно одна заключительная, причем они не совпадают, ни одно ребро не входит в начальную вершину, а из заключительной вершины не выходит ни одно ребро.
        </p>

        <h4 class="proof_or_theorem">Утверждение.</h4>
        <p>
            <br> Для любого источника существует эквивалентный ему двухполюсник.
        </p>
        
        <h4 class="proof_or_theorem">Доказательство</h4>
        <p>
            <br> В данном источнике все начальные и заключительные вершины сделаем обыкновенными и введем дополнительные вершины q<sub>0</sub> и q<sub>f</sub>. Из q<sub>0</sub> проведем пустые ребра в бывшие начальные, а из бывших заключительных проведем пустые ребра в q<sub>f</sub>. Получившийся источник - двухполюсник, эквивалентный данному.
        </p>

    </div>

    <div class="center_any_title">
        <h3 class="subtitle_of_lecture">Вторая теорема Клини.</h3>
    </div>
    
    <div class="container">
        <p>
            <br><i>Любой регулярный язык порождается некоторым источником.</i>
        </p>

        <h4 class="proof_or_theorem">Доказательство.</h4>

        <p>
            <br> Построим для регулярного языка источник. Для простейших ∅,&lambda;,a соответствующие источники выглядят так: 
        </p>

        <div class="image">
            <img src="images/fourth_lection/FreeSample-Vectorizer-io-image_2024-04-10_22-26-17.svg">
        </div>

        <p>
            <br> &lambda; ∗ y; a * E y; a ∅ ∗ ' y;a
            <br> Далее, пусть построены источники для регулярных языков L<sub>1</sub> и L<sub>2</sub>.
            <br> Можно считать их двухполюсниками.
        </p>

        <div class="image">
            <img src="images/fourth_lection/fourth.png">
        </div>

        <p>
            <br> Тогда для языков L<sub>1</sub> V L<sub>2</sub> и L<sub>1</sub>L<sub>2</sub> источники будут:
        </p>

        <div class="image">
            <img src="images/fourth_lection/fifth.png">
        </div>

        <p>
            А для языка L<sub>1</sub>∗ (представлено ниже) 
        </p>

        <div class="image">
            <img src="images/fourth_lection/sixth.png">
        </div>

        <p>
            <br> Так можно построить источник для любого регулярного языка. Теорема доказана. 
        </p>
    </div>

    <div class="center_any_title">
        <h3 class="subtitle_of_lecture"> Грамматики</h3>
    </div>

    <div class="container">
        <p>
            <br> <b><i>Утверждение.</i></b> Задаваемый грамматикой язык порождается источником, и наоборот.
        </p>

        <p>
            <br> <b><i>Доказательство.</i></b>
            <ol class="points">
                <li>
                    Пусть дана грамматика G: T = {a, b, ...}, N = {A, B, ...}, I ∈ N и некоторый набор правил вида A → aB, A → a, I → b.
                    <p>
                        <br> Построим источник, порождающий тот же язык, что и грамматика. 
                        Каждой вспомогательной букве ставится в соответствие вершина источника, причем I соответствует начальной вершине q<sub>0</sub>.
                        Отдельно вводится заключительная вершина q<sub>f</sub>. 
                    </p>
                    
                    <p>
                        <br> Каждому правилу вида A → aB ставится в соответствие ребро с буквой a из вершины A в вершину B,
                         а правилу A → a - ребро с a из A в заключительную вершину q<sub>f</sub>.
                         Если правило имеет вид A → B или A → &lambda;, то ребра соответственно в B и в q<sub>f</sub> проводятся пустые.
                    </p>
                </li>

                <li>
                    Переход от источника к грамматике.
                    <br> Пусть L - язык, порожденный источником И. Построим грамматику, порождающую L.
                    <p>
                        <br> Начальной вершине поставим в соответствие аксиому I, остальным вершинам v<sub>1</sub>1, v<sub>2</sub>, ... - различные буквы
                         A<sub>1</sub>, A<sub>2</sub>, ..., которые будут составлять нетерминальный алфавит.
                    </p>

                    <p>
                        Каждому ребру ставится в соответствие правило вывода A<sub>i</sub> → aA<sub>j</sub> (A<sub>i</sub> → A<sub>j</sub>, если это пустое ребро).
                        Если v<sub>j</sub> - заключительная вершина, то добавляем еще и правило A<sub>i</sub>i → a (A<sub>i</sub> → &lambda;, если ребро пустое).
                        Если начальная вершина является заключительной, то добавляем правило I → &lambda;. Утверждение доказано.
                    </p>
                </li>
            </ol>
        </p>
    </div>

    <div class="center_any_title">
        <h3 class="subtitle_of_lecture">Упрощение грамматик.</h3>
    </div>

    <div class="container">
        <p>
            <br> Рассмотрим грамматику с алфавитами T = {a,b}, N = {I,A,B}, аксиомой I и следующими правилами вывода:
            <br> I → a, I → aA, I → bI, A → aA, A → bA, B → a.
        </p>

        <p>
            <br> Видно, что в данной грамматике нетерминальный символ B никогда не появится в слове, выведенном из аксиомы, а из символа A нельзя вывести слово только из терминальных символов. Значит, эти символы и содержащие их правила не влияют на язык, порожденный грамматикой. Поэтому данная грамматика порождает тот же язык, что и грамматика со вспомогательным алфавитом N = {I} и двумя правилами вывода:
            <br> I → a,I → bI.
        </p>

        <p>
            <br> Таким образом, можно упростить грамматику путем удаления недостижимых и бесполезных символов. Формализуем вышесказанное.
             Символ B ∈ N назовем недостижимым, если не существует такого выводимого из аксиомы I слова β, что β = α<sub>1</sub>Bα<sub>2</sub>, где α<sub>1</sub>,α<sub>2</sub> ∈ (T ∪ N)<sup>*</sup>.
        </p>

        <p>
            <br> Символ A ∈ N назовем бесполезным, если не существует такого слова α ∈ T<sup>*</sup> из основного алфавита, что α выводится из A.
        </p>

        <p>
            <br> Рассмотрим аксиому I и правила вида I → C и I → aC. Символы, встретившиеся в правой части таких правил, отнесем к достижимым символам. Включим в это множество и аксиому. Проделаем то же самое для достижимых символов. Будем рассматривать правила с достижимыми символами в левой части и добавлять символы из правой части ко множеству достижимых символов. На каком-то шаге множество достижимых символов перестанет увеличиваться. Символы вспомогательного алфавита, не вошедшие в это множество - <b><i>недостижимые</i></b>. Удалим их из грамматики, а также все правила, в которых они встречаются.
        </p>

        <p>
            <br> Если изобразить источник для грамматики, то недостижимые символы грамматики будут соответствовать вершинам, недостижимым из начальной вершины.
        </p>

        <p>
            <br> Теперь рассмотрим символы вспомогательного алфавита A ∈ N, для которых в грамматике есть правила вида A → a, a ∈ T или A → &lambda;.
        </p>

        <p>
            <br> Отнесем их ко множеству D символов, не являющихся бесполезными. Рассмотрим правила C → A, C → aA, где A ∈ D, a ∈ T. 
            Добавим символ C ко множеству D. Будем проделывать этот шаг до тех пор, пока множество D не перестанет увеличиваться.
            Символы вспомогательного алфавита, не вошедшие в D, - <b><i>бесполезные</i></b>. Удалим их из грамматики вместе с содержащими их правилами.
        </p>

        <p>
            <br> В источнике бесполезным символам грамматики соответствуют вершины, из которых недостижимы никакие заключительные вершины.
        </p>

        <h4 class="proof_or_theorem">Пример.</h4>

        <p>
            <br> Рассмотрим грамматику с основным алфавитом T = {a,b}, вспомогательным алфавитом N = {I,A,B,C,E}, аксиомой I и следующими правилами вывода:
            <br> I → aI|bA
            <br> A → aI|aB|b
            <br> B → aB|bC
            <br> C → bC
            <br> E → a
        </p>

        <p>
            <br> Упростим эту грамматику. Символы A, B, C достижимы, так как из аксиомы выводимы слова bA, baB, babC.
            Других достижимых нетерминальных символов нет, так как ни одно правило, начинающееся с I, A, B или C, не содержит других символов из N.
            Оставшийся символ E - недостижимый, удалим его из грамматики. 
        </p>

        <p>
            <br> Теперь найдем бесполезные символы. Образуем множество D из A, так как есть правило A → b, выводящее терминальное слово.
            Найдем правила, в которых элемент D встречается в правой части. Это правило I → bA, поэтому D = {I,A}.
            Дальше это множество не расширяется. Оставшиеся нетерминальные символы B,C являются бесполезными. 
        </p>

        <p>
            <br> В итоге в упрощенной грамматике есть лишь два символа вспомогательного алфавита (I и A) и следующие правила:
            <br> I → aI|bA,
            <br> A → aI|b. 
        </p>
    </div>

    <div class="center_any_title">
        <h3 class="subtitle_of_lecture">Детерминированные источники.</h3>
    </div>

    <div class="container">
        <p>
            <br> Рассмотрим источник со следующими свойствами:
            <ol class="points">
                <li>ровно одна начальная вершина;</li>
                <li>из каждой вершины выходит ровно |A| ребер, и всем этим ребрам приписаны разные буквы алфавита A.</li>
            </ol>
        </p>

        <p>
            <br> Такой источник называется <b><i>детерминированным</i></b>.
        </p>

        <p>
            <br> Для любого источника можно построить детерминированный источник, порождающий тот же язык (эквивалентный детерминированный источник).
             Для этого применяется процесс детерминизации источника.
        </p>

        <p>
            <br> Возьмем произвольный источник И и построим эквивалентный ему детерминированный источник Д следующим способом.
            <br> Перенумеруем вершины И; таким образом, множество вершин можно отождествить с {1, 2, ..., n}.
        </p>

        <p>
            <br> Вершинам источника Д будут поставлены в соответствие некоторые подмножества (будем называть их массивами) множества вершин исходного источника И. Построим эти массивы и исходящие из них ребра с буквами алфавита A.
        </p>

        <p>
            <br> В качестве начальной вершины источника Д возьмем массив, состоящий из начальных вершин источника И и вершин,
             которые достижимы из этих начальных по путям, составленных из пустых ребер (эти пути порождают пустое слово &lambda;);
            обозначим этот массив через 10 и поставим ему в соответствие точку 10 на плоскости.
        </p>

        <p>
            <br> Далее, для любой буквы a ∈ A рассмотрим всевозможные пути, выходящие из некоторой вершины массива 1<sup>0</sup> и порождающие слово a (если такие существуют). Множество концов таких путей обозначим через 2<sup>0</sup> и поставим ему в соответствие точку 2<sup>0</sup> на плоскости. Из вершины 1<sup>0</sup> проведем ребро с буквой a в вершину 2<sup>0</sup>.
            Если же путей с указанным свойством не существует, то введем вершину (и точку на плоскости) f<sup>0</sup>,
            соответствующую пустому множеству вершин источника И, и направим ребро с буквой a из 1<sup>0</sup> в f<sup>0</sup>.
        </p>

        <p>
            <br> Это построение проведем для каждой буквы алфавита A.
            <br> И так далее. Из вершины k<sup>0</sup> для каждой a ∈ A проводится ребро a в вершину l<sup>0</sup>, образованную номерами вершин, достижимых в И из вершин множества k0 по путям, порождающим слово a. Если таких вершин нет, то из k<sup>0</sup> проводим ребро с буквой a к упомянутой вершине f<sup>0</sup>.
            Если k<sup>0</sup> - пустое множество, то проводятся петли с каждой буквой входного алфавита.
        </p>

        <p>
            <br> Заключительными вершинами объявляются массивы {i<sub>1</sub>, ..., i<sub>t</sub>}, содержащие хотя бы одну заключительную вершину источника И.
        </p>

        <p>
            <br> Из построения видно, что источник детерминированный.
            Также он порождает тот же язык, что и И, так как любому слову, приписанному пути в И из некоторой начальной вершины в некоторую заключительную, соответствует путь в Д и наоборот.
        </p>

        <h4 class="proof_or_theorem">Пример.</h4>

        <p>
            <br> Слева - источник И, справа - процесс его детерминизации. 
        </p>

        <div class="image">
            <img src="images/fourth_lection/seventh.png">
        </div>

        <p>
            <br> Детерминированный источник выглядит так:
        </p>

        <div class="image">
            <img src="images/fourth_lection/eigth.png">
        </div>

        <p>
            <br> Детерминированный источник без выделенных заключительных вершин и такой, что каждому ребру сопоставлена еще и буква некоторого "выходного" алфавита,
             задает по определению инициальный автомат.
        </p>

    </div>
        
        
        
</div>


